{% extends 'base.html.twig' %}

{% block title %}Bien{% endblock %}

{% block body %}
    <h1 class="text-center mt-5" style="font-family: 'Montserrat';">Biens immobiliers disponibles</h1>

    {# Bloc executé seulement si je suis connecté #}
    {%if is_granted('ROLE_USER')%}
        <div>Bonjour {{ app.user.username }}, vous êtes connecté</div>
    {%endif%}


    <div class="container-fluid w-80">

        <div>
            <select class="form-control">
                <option value="">Catégorie</option>
                <option value="Vente">Vente</option>
                <option value="Location">Location</option>
            </select>

        </div>

        <div class="row">

            {% for bien in biens %}

                <div class="card col-3 mt-5 mx-2 p-3" style="width: 18rem;">
                  <img src="maison.jpg" class="card-img-top" alt="">
                  <div class="card-body">
                    <h4 class="card-title">{{ bien.titre }}</h4>
                    <h5 class="card-title">{{ bien.categorie }}</h5>
                    <h5 class="card-title">{{ bien.prix }}</h5>
                    <p class="card-text">{{ bien.description }}</p>
                    <a class="btn btn-sm btn-info" style="border-radius: 10px" href="{{ path('bien_show', {'id': bien.id}) }}">En savoir plus</a>
                    <a class="btn btn-sm btn-warning" style="border-radius: 10px" href="{{ path('bien_edit', {'id': bien.id}) }}">Modifier</a>
                  </div>
                </div>

            {% else %}
                <div>
                    <p>Aucun bien présent</p>
                </div>
            {% endfor %}

        </div>

        <div class="row">

            {% for bien in biens %}

                <div class="card col-3 mt-5 mx-2 p-3" style="width: 18rem;">
                  <img src="maison.jpg" class="card-img-top" alt="">
                  <div class="card-body">
                    <h4 class="card-title">{{ bien.titre }}</h4>
                    <h5 class="card-title">{{ bien.categorie }}</h5>
                    <h5 class="card-title">{{ bien.prix }}</h5>
                    <p class="card-text">{{ bien.description }}</p>
                    <a class="btn btn-sm btn-info" style="border-radius: 10px" href="{{ path('bien_show', {'id': bien.id}) }}">En savoir plus</a>
                    <a class="btn btn-sm btn-warning" style="border-radius: 10px" href="{{ path('bien_edit', {'id': bien.id}) }}">Modifier</a>
                  </div>
                </div>

            {% else %}
                <div>
                    <p>Aucun bien présent</p>
                </div>
            {% endfor %}

        </div>

        <div class="row">

            {% for bien in biens %}

                <div class="card col-3 mt-5 mx-2 p-3" style="width: 18rem;">
                  <img src="maison.jpg" class="card-img-top" alt="">
                  <div class="card-body">
                    <h4 class="card-title">{{ bien.titre }}</h4>
                    <h5 class="card-title">{{ bien.categorie }}</h5>
                    <h5 class="card-title">{{ bien.prix }}</h5>
                    <p class="card-text">{{ bien.description }}</p>
                    <a class="btn btn-sm btn-info" style="border-radius: 10px" href="{{ path('bien_show', {'id': bien.id}) }}">En savoir plus</a>
                    <a class="btn btn-sm btn-warning" style="border-radius: 10px" href="{{ path('bien_edit', {'id': bien.id}) }}">Modifier</a>
                  </div>
                </div>

            {% else %}
                <div>
                    <p>Aucun bien présent</p>
                </div>
            {% endfor %}

        </div>

        <nav class="mt-3" aria-label="">
          <ul class="pagination">
            <li class="page-item disabled">
              <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
            </li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item" aria-current="page">
              <a class="page-link" href="#">2 <span class="sr-only">(current)</span></a>
            </li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item">
              <a class="page-link" href="#">Next</a>
            </li>
          </ul>
        </nav>

    </div>

{% endblock %}
